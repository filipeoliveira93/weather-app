<template>
  <div v-if="dayInfo">
    <p>{{ address }}</p>
    <p>{{ dayForecastData.temperatura }}</p>
    <p> {{ dayForecastData.weatherDescription }}</p>
    <img :src="dayForecastData.weatherIcon2" alt="Weather icon">
  </div>
</template>

<script>

const weatherIcons = {
  0: ['â˜€ï¸', 'CÃ©u limpo', 'clear-day'],
  1: ['ğŸŒ¤ï¸', 'Limpo com nuvens', 'partly-cloudy-day'],
  2: ['â›…ï¸', 'Parcialmente nublado', 'partly-cloudy-day'],
  3: ['â˜ï¸', 'Nublado', 'cloudy', 'overcast'],
  45: ['ğŸŒ«ï¸', 'NÃ©voa'],
  48: ['ğŸŒ«ï¸', 'NÃ©voa'],
  51: ['ğŸŒ§ï¸', 'Chuvisco Fraco'],
  53: ['ğŸŒ§ï¸', 'Chuvisco Moderado'],
  55: ['ğŸŒ§ï¸', 'Chuvisco Intenso'],
  56: ['ğŸŒ§ï¸', 'Chuva congelante Fraca'],
  57: ['ğŸŒ§ï¸', 'Chuva congelante Intensa'],
  61: ['ğŸŒ§ï¸', 'Chuva Fraca'],
  63: ['ğŸŒ§ï¸', 'Chuva Moderada'],
  65: ['ğŸŒ§ï¸', 'Chuva Forte'],
  66: ['ğŸŒ¨ï¸', 'Chuva Congelante Fraca'],
  67: ['ğŸŒ¨ï¸', 'Chuva Congelante Forte'],
  71: ['â„ï¸', 'Neve Fraca'],
  73: ['â„ï¸', 'Neve Moderada'],
  75: ['â„ï¸', 'Neve Forte'],
  77: ['â„ï¸', 'Granizo'],
  80: ['ğŸŒ§ï¸', 'Chuva Fraca'],
  81: ['ğŸŒ§ï¸', 'Chuva Moderada'],
  82: ['ğŸŒ§ï¸', 'Chuva Forte'],
  85: ['â„ï¸', 'Neve Fraca'],
  86: ['â„ï¸', 'Neve Forte'],
  95: ['ğŸŒ©ï¸', 'Trovoadas'],
  96: ['ğŸŒ©ï¸', 'Trovoadas com granizo Fraco'],
  99: ['ğŸŒ©ï¸', 'Trovoadas com granizo Forte']
};
export default {
  name: 'dayForecast',
  props: {
    dayInfo: {
      type: Object,
      default: null
    },
    address: {
      type: String,
      default: ''
    }

  },


  // computed: {
  //   temperatura() { 
  //     return this.dayInfo ? this.dayInfo.temperature : ''
  //   },
  //   weathercode() {
  //     if (this.dayInfo && weatherIcons[this.dayInfo.weathercode]) {
  //       return (weatherIcons[this.dayInfo.weathercode][0])
  //     }
  //     else {
  //       return ('')
  //     }

  //   },
  //   weatherDescription() {
  //     if (this.dayInfo && weatherIcons[this.dayInfo.weathercode]) {
  //       return (weatherIcons[this.dayInfo.weathercode][1])
  //     }
  //     else {
  //       return ('')
  //     }
  //   },
  //   weatherIcon2() {
  //     if (this.dayInfo && weatherIcons[this.dayInfo.weathercode]) {
  //       const iconName = weatherIcons[this.dayInfo.weathercode][2];
  //       const iconPath = `/src/assets/icons/${iconName}.svg`;
  //       console.log(weatherIcons[this.dayInfo.weathercode])
  //       console.log(iconPath)
  //       return (iconPath);

  //     } else {
  //       return '';
  //     }
  //   }
  // }
  computed: {
  dayForecastData() {
    const dayInfo = this.dayInfo;
    const weatherData = weatherIcons[dayInfo?.weathercode] || [];

    return {
      temperatura: dayInfo?.temperature || '',
      weathercode: weatherData[0] || '',
      weatherDescription: weatherData[1] || '',
      weatherIcon2: dayInfo ? `/src/assets/icons/${weatherData[2]}.svg` : ''
    };
  }
}
}

</script>

<style></style>